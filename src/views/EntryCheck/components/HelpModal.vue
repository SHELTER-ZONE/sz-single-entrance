<template>
  <n-modal v-model:show="showModal" class="mx-[15px] max-w-[500px] m-auto" preset="card" :on-update:show="updateShowModal">
    <div class=" h-[500px] overflow-y-scroll pr-[20px] pl-[1px] py-[1px]">
      <n-steps vertical :current="current" :status="currentStatus">
        <n-step title="ç”Ÿæˆé©—è­‰æŒ‡ä»¤ç¢¼">
          <img :src="getCode">
        </n-step>
        <n-step title="è¤‡è£½é©—è­‰æŒ‡ä»¤ç¢¼">
          <img :src="copyCode">
        </n-step>
        <n-step title="åŠ å…¥ä¼ºæœå™¨">
          <img :src="joinServer">
        </n-step>
        <n-step title="è¼¸å…¥é©—è­‰æŒ‡ä»¤">
          <p class="mb-[10px]">è«‹è‡³ä¼ºæœå™¨çš„ ğŸ’¾terminalæŒ‡ä»¤å€ è²¼ä¸Šå‰›å‰›è¤‡è£½çš„é©—è­‰æŒ‡ä»¤ä¸¦é€å‡ºå³å¯</p>
          <div class="grid gap-[20px]">
            <img :src="terminalChannel">
            <img :src="codeInput">
          </div>
        </n-step>
      </n-steps>
    </div>
  </n-modal>
</template>

<script setup>
import getCode from '@/assets/get-code.png'
import copyCode from '@/assets/copy-code.png'
import joinServer from '@/assets/join-server.png'
import terminalChannel from '@/assets/terminal-channel.png'
import codeInput from '@/assets/code-input.png'
import { ref } from '@vue/reactivity'
import { onMounted } from '@vue/runtime-core'
import { NModal, NSteps, NStep } from 'naive-ui'

const emit = defineEmits(['close'])
const showModal = ref(false)

const updateShowModal = (val) => {
  showModal.value = val
  if (!val) {
    setTimeout(() => {
      emit('close')
    }, 300)
  }
}

onMounted(() => {
  showModal.value = true
})
</script>

<style lang="postcss" >
.n-modal-scroll-content {
  @apply items-center justify-center w-full;
}
</style>
