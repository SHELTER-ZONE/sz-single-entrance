import{K as d,o as l,d as p,g as a,u as k,v as z,b as C,c as b,x as T,y as I,i as r,e as n,E as u,L as m,w as s,z as V,M as _,A as B,t as D,p as J,j as L}from"./vendor.f6106948.js";import{a as v}from"./anime.es.729cdde2.js";import{a as h,_ as S}from"./index.512ea5eb.js";const $={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},M=a("path",{d:"M16.612 2.214a1.01 1.01 0 0 0-1.242 0L1 13.419l1.243 1.572L4 13.621V26a2.004 2.004 0 0 0 2 2h20a2.004 2.004 0 0 0 2-2V13.63L29.757 15L31 13.428zM18 26h-4v-8h4zm2 0v-8a2.002 2.002 0 0 0-2-2h-4a2.002 2.002 0 0 0-2 2v8H6V12.062l10-7.79l10 7.8V26z",fill:"currentColor"},null,-1);var N=d({name:"Home",render:function(i,t){return l(),p("svg",$,[M])}});const O={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},A=a("path",{d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4z",fill:"currentColor"},null,-1),E=a("path",{d:"M20.59 22L15 16.41V7h2v8.58l5 5.01L20.59 22z",fill:"currentColor"},null,-1);var H=d({name:"Time",render:function(i,t){return l(),p("svg",O,[A,E])}});const P=async({memberID:e})=>await h({url:"https://sz-bot-dev.deta.dev/cacheData/joinType/temporary ",method:"POST",data:{memberID:e}}),K=async({memberID:e})=>await h({url:"https://sz-bot-dev.deta.dev/cacheData/joinType/permanent ",method:"POST",data:{memberID:e}});const w=e=>(J("data-v-3e04142a"),e=e(),L(),e),R={id:"join",class:"page-padding"},Y={class:"join-type-wrapper common-width"},q=w(()=>r("div",null,"\u53EA\u662F\u60F3\u8A62\u554F\u4E00\u4E9B\u554F\u984C\uFF0C\u4E26\u7121\u5728\u4F3A\u670D\u5668\u9577\u4E45\u5C45\u4F4F\u7684\u6253\u7B97",-1)),F=w(()=>r("div",null,"\u6253\u7B97\u5728\u4F3A\u670D\u5668\u9577\u4E45\u5C45\u4F4F\u7684\u6253\u7B97",-1)),G={class:"mt-[40px]"},Q={setup(e){const i=k(),t=z(""),y=C(),c=b(()=>y.state.auth.user.id),f=async()=>{await K({memberID:c.value})},x=async()=>{await P({memberID:c.value})},g=async()=>{if(t.value==="temporary"){await x(),alert("TODO \u52A0\u5165\u4F3A\u670D\u5668");return}if(t.value==="permanent")return await f(),i.push({name:"EntryCheck"})};return T(()=>{v({targets:".join-type",translateY:[20,0],opacity:[0,1],duration:1e3,delay:v.stagger(150,{start:300})})}),(U,o)=>(l(),I("div",R,[r("div",Y,[a(n(u),{title:"\u66AB\u6642\u505C\u7559",class:m(["join-type",{selected:t.value==="temporary"}]),onClick:o[0]||(o[0]=j=>t.value="temporary")},{icon:s(()=>[a(n(_),null,{default:s(()=>[a(n(H))]),_:1})]),default:s(()=>[q]),_:1},8,["class"]),a(n(u),{title:"\u9577\u4E45\u5C45\u7559",class:m(["join-type",{selected:t.value==="permanent"}]),onClick:o[1]||(o[1]=j=>t.value="permanent")},{icon:s(()=>[a(n(_),null,{default:s(()=>[a(n(N))]),_:1})]),default:s(()=>[F]),_:1},8,["class"])]),r("div",G,[a(n(V),{class:"join-btn",secondary:"",round:"",type:"primary",disabled:!t.value,onClick:g},{default:s(()=>[B(D(t.value==="permanent"?"\u524D\u5F80\u8A8D\u8B49":"\u52A0\u5165\u4F3A\u670D\u5668"),1)]),_:1},8,["disabled"])])]))}};var ee=S(Q,[["__scopeId","data-v-3e04142a"]]);export{ee as default};
