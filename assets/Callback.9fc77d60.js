import{b as c,u as n,x as i,y as u,G as l,o as p,A as d,t as _}from"./vendor.1e53e828.js";const m={class:"signin"},h={setup(f){const s=c(),t=n(),o=i(),r=u("\u8A8D\u8B49\u4E2D...");return l(async()=>{await t.isReady();let e=location.href.split("/")[4].split("=")[1];if(e=e.replace("#",""),e.includes("access_denied")||e.includes("error_description"))return t.replace("/");const[,a]=await s.dispatch("getDCAccessToken",{code:e});if(a)return o.error(a.message);r.value="\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u8A0A...",await s.dispatch("findMe"),t.replace("/important"),s.commit("SET_LOGGEDIN",!0)}),(e,a)=>(p(),d("main",m,_(r.value),1))}};export{h as default};
