import{v as y,o as _,d as g,g as a,u as B,b as V,x as J,y as v,c as M,G as L,A as N,i as n,e as r,B as x,Q as j,w as o,C as H,t as b,D as k,F as h,p as A,j as P}from"./vendor.1e53e828.js";import{a as C}from"./anime.es.729cdde2.js";import{a as z,_ as E}from"./index.94795863.js";const O={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},Q=a("path",{d:"M16.612 2.214a1.01 1.01 0 0 0-1.242 0L1 13.419l1.243 1.572L4 13.621V26a2.004 2.004 0 0 0 2 2h20a2.004 2.004 0 0 0 2-2V13.63L29.757 15L31 13.428zM18 26h-4v-8h4zm2 0v-8a2.002 2.002 0 0 0-2-2h-4a2.002 2.002 0 0 0-2 2v8H6V12.062l10-7.79l10 7.8V26z",fill:"currentColor"},null,-1);var F=y({name:"Home",render:function(l,d){return _(),g("svg",O,[Q])}});const G={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},R=a("path",{d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4z",fill:"currentColor"},null,-1),Y=a("path",{d:"M20.59 22L15 16.41V7h2v8.58l5 5.01L20.59 22z",fill:"currentColor"},null,-1);var q=y({name:"Time",render:function(l,d){return _(),g("svg",G,[R,Y])}});const D="445157253385814016",K=async({memberID:e})=>await z({url:`https://sz-bot.deta.dev/cacheData/${D}/joinType/temporary `,method:"POST",data:{memberID:e}}),U=async({memberID:e})=>await z({url:`https://sz-bot.deta.dev/cacheData/${D}/joinType/permanent `,method:"POST",data:{memberID:e}});const c=e=>(A("data-v-64db6f0c"),e=e(),P(),e),W={id:"join",class:"page-padding"},X={class:"join-type-wrapper common-width"},Z=c(()=>n("div",null,"\u53EA\u662F\u60F3\u8A62\u554F\u4E00\u4E9B\u554F\u984C\u6216\u8DEF\u904E\uFF0C\u4E26\u7121\u5728\u4F3A\u670D\u5668\u9577\u4E45\u5C45\u4F4F\u7684\u6253\u7B97",-1)),ee=c(()=>n("div",{class:"text-gray-400"}," \u52A0\u5165\u5F8C\u4F60\u53EA\u80FD\u770B\u5230\u90E8\u5206\u983B\u9053\uFF0C\u4F46\u4E4B\u5F8C\u4ECD\u53EF\u91CD\u65B0\u9078\u64C7\u65B9\u5F0F\u52A0\u5165 ",-1)),te=c(()=>n("div",null,"\u6253\u7B97\u5728\u4F3A\u670D\u5668\u9577\u4E45\u5C45\u4F4F\u7684\u6253\u7B97",-1)),ae=c(()=>n("div",{class:"text-gray-400"},[h(" \u9078\u64C7\u6B64\u65B9\u5F0F\u52A0\u5165\uFF0C\u5C07\u524D\u5F80\u9A57\u8B49\u78BC\u8A8D\u8B49\u6B65\u9A5F"),n("br"),h(" \u5728\u8A8D\u8B49\u5B8C\u6210\u4E4B\u524D\uFF0C\u4F60\u90FD\u53EA\u80FD\u770B\u5230\u90E8\u5206\u983B\u9053 ")],-1)),se={class:"mt-[40px]"},ne={class:"text-sm"},re={setup(e){const l=B(),d=V(),f=J(),s=v(""),u=v(""),p=v(!1),m=M(()=>d.state.auth.user.id),I=async()=>{const[w,t]=await U({memberID:m.value});return t?(f.error(t),!1):!0},S=async()=>{const[w,t]=await K({memberID:m.value});return t?(f.error(t),!1):!0},i=()=>{p.value=!1,u.value=""},T=async()=>{if(p.value=!0,u.value="\u767B\u8A18\u8CC7\u6599\u4E2D...",s.value==="temporary"){if(!await S())return i();window.location.href="https://discord.gg/D3MQjxzTgg",i();return}if(s.value==="permanent")return await I()?(i(),l.push({name:"EntryCheck"})):i()};return L(()=>{if(!m.value)return l.replace({name:"Home"});C({targets:".join-type",translateY:[20,0],opacity:[0,1],duration:1e3,delay:C.stagger(150,{start:300})})}),(w,t)=>(_(),N("div",W,[n("div",X,[a(r(x),{title:"\u66AB\u6642\u505C\u7559",class:j(["join-type",{selected:s.value==="temporary"}]),onClick:t[0]||(t[0]=$=>s.value="temporary")},{icon:o(()=>[a(r(k),null,{default:o(()=>[a(r(q))]),_:1})]),default:o(()=>[Z,ee]),_:1},8,["class"]),a(r(x),{title:"\u9577\u4E45\u5C45\u7559",class:j(["join-type",{selected:s.value==="permanent"}]),onClick:t[1]||(t[1]=$=>s.value="permanent")},{icon:o(()=>[a(r(k),null,{default:o(()=>[a(r(F))]),_:1})]),default:o(()=>[te,ae]),_:1},8,["class"])]),n("div",se,[a(r(H),{class:"join-btn",secondary:"",round:"",type:"primary",loading:p.value,disabled:!s.value,onClick:T},{default:o(()=>[h(b(s.value==="permanent"?"\u524D\u5F80\u8A8D\u8B49":"\u52A0\u5165\u4F3A\u670D\u5668"),1)]),_:1},8,["loading","disabled"])]),n("span",ne,b(s.value?u.value:"\u8ACB\u9078\u64C7\u52A0\u5165\u65B9\u5F0F"),1)]))}};var ce=E(re,[["__scopeId","data-v-64db6f0c"]]);export{ce as default};
